<div>
    <h1>타이머</h1>

    <!--인풋-->
    <div class="time-inputs">
        <div class="input-group">
            <label for="hours">HRS</label>
            <input type="number" id="hours" class="time-input" min="0" max="23" value="0">
        </div>
        <div class="input-group">
            <label for="minutes">MIN</label>
            <input type="number" id="minutes" class="time-input" min="0" max="59" value="0">
        </div>
        <div class="input-group">
            <label for="seconds">SEC</label>
            <input type="number" id="seconds" class="time-input" min="0" max="59" value="10">
        </div>
    </div>

    <!--버튼-->
    <div class="controls">
        <button id="control-btn" class="btn btn-start">Start</button>
        <button id="reset-btn" class="btn btn-reset">Reset</button>
    </div>

    <script>
        class Timer {
            constructor() {
                this.hoursInput = document.getElementById('hours');
                this.minutesInput = document.getElementById('minutes');
                this.secondsInput = document.getElementById('seconds');
                this.startBtn = document.getElementById('control-btn');
                this.resetBtn = document.getElementById('reset-btn');

                this.isRunning = false;
                this.timer = null;
                this.totalSeconds = 0;

                this.startBtn.addEventListener('click', () => this.toggleTimer());
                this.resetBtn.addEventListener('click', () => this.resetCountdown());

            }

            toggleTimer() {
                if (this.isRunning) {
                    this.pauseTimer();
                } else {
                    this.startCountdown();
                }
            }


            pauseTimer() {
                console.log("포즈즈즈즈");
                clearInterval(this.timer);
                this.timer = null;
                this.isRunning = false;
                this.startBtn.textContent = "Start";
            }


            resetCountdown() {
                clearInterval(this.timer);
                this.isRunning = false;
                this.totalSeconds = 0;

                this.hoursInput.value = 0;
                this.minutesInput.value = 0;
                this.secondsInput.value = 10;

            }


            updateDisplay() {
                const h = Math.floor(this.totalSeconds / 3600);
                const m = Math.floor((this.totalSeconds % 3600) / 60);
                const s = this.totalSeconds % 60;

                this.hoursInput.value = h;
                this.minutesInput.value = m;
                this.secondsInput.value = s;
            }


            updateDisplay() {
                const h = Math.floor(this.totalSeconds / 3600);
                const m = Math.floor((this.totalSeconds % 3600) / 60);
                const s = this.totalSeconds % 60;

                this.hoursInput.value = h;
                this.minutesInput.value = m;
                this.secondsInput.value = s;
            }

            startCountdown() {

                console.log("startCountdown");

                if (this.isRunning) {
                    clearInterval(this.timer);
                    this.isRunning = false;
                    this.startBtn.textContent = "Start";
                    return;
                };
                console.log("실행시작");
                this.isRunning = true;
                this.startBtn.textContent = "Pause";

                if (this.totalSeconds <= 0) {
                    this.totalSeconds =
                        (parseInt(this.hoursInput.value) || 0) * 3600 +
                        (parseInt(this.minutesInput.value) || 0) * 60 +
                        (parseInt(this.secondsInput.value) || 0);
                }
                this.timer = setInterval(() => {
                    this.totalSeconds--;

                    this.updateDisplay();

                    if (this.totalSeconds <= 0) {
                        clearInterval(this.timer);
                        this.isRunning = false;
                        this.timer = null;
                        this.startBtn.textContent = "Start";


                        this.totalSeconds = 0;  
                        this.updateDisplay(); 
                        console.log("카운트 종료");
                        return;
                    }

                }, 1000);
            }
        }
        const timer = new Timer();
    </script>
</div>